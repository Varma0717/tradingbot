{% extends 'layout.html' %}

{% block title %}
  Support Center - TradeMantra
{% endblock %}

{% block content %}
  <div class="p-6 max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">üÜò Support Center</h1>
      <p class="text-gray-600">Get help with automated trading, technical issues, and platform features</p>
    </div>

    <!-- Quick Actions -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
      <button onclick="startChat()" class="bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 text-left">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
            </svg>
          </div>
          <div>
            <div class="font-semibold">Live Chat</div>
            <div class="text-sm opacity-90">Get instant help</div>
          </div>
        </div>
      </button>

      <button onclick="createTicket()" class="bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 text-left">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
            </svg>
          </div>
          <div>
            <div class="font-semibold">Support Ticket</div>
            <div class="text-sm opacity-90">Submit detailed issue</div>
          </div>
        </div>
      </button>

      <button onclick="scheduleCall()" class="bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 text-left">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
          </div>
          <div>
            <div class="font-semibold">Schedule Call</div>
            <div class="text-sm opacity-90">Expert consultation</div>
          </div>
        </div>
      </button>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Main Content -->
      <div class="lg:col-span-2 space-y-6">
        <!-- Search Knowledge Base -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
          <h2 class="text-lg font-semibold text-gray-900 mb-4">üîç Search Knowledge Base</h2>
          <div class="relative">
            <input type="text" placeholder="Search for help articles, tutorials, and guides..." class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
            <svg class="absolute left-3 top-3 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>

        <!-- FAQ Section -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-6 border-b border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900">‚ùì Frequently Asked Questions</h2>
          </div>
          <div class="p-6">
            <div class="space-y-4">
              <!-- FAQ Item 1 -->
              <div class="border border-gray-200 rounded-lg">
                <button onclick="toggleFAQ(1)" class="w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50">
                  <span class="font-medium text-gray-900">How do I connect my Binance account for crypto trading?</span>
                  <svg id="faq-icon-1" class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                <div id="faq-content-1" class="hidden px-4 pb-4">
                  <p class="text-gray-600 text-sm">To connect your Binance account: 1) Go to Binance ‚Üí API Management, 2) Create new API key with trading permissions, 3) Copy API key and secret, 4) Enter them in TradeMantra Settings ‚Üí Exchange Connections, 5) Enable 'Spot Trading' permission. For security, use IP whitelist and never share your API secret.</p>
                </div>
              </div>

              <!-- FAQ Item 2 -->
              <div class="border border-gray-200 rounded-lg">
                <button onclick="toggleFAQ(2)" class="w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50">
                  <span class="font-medium text-gray-900">Why is my automated strategy not executing trades?</span>
                  <svg id="faq-icon-2" class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                <div id="faq-content-2" class="hidden px-4 pb-4">
                  <p class="text-gray-600 text-sm">Check these common issues: 1) Ensure strategy is 'Active' not 'Paused', 2) Verify sufficient balance in your trading account, 3) Check if risk management settings are blocking trades, 4) Confirm market hours (stocks: 9:15 AM - 3:30 PM IST, crypto: 24/7), 5) Review strategy conditions - market might not meet entry criteria.</p>
                </div>
              </div>

              <!-- FAQ Item 3 -->
              <div class="border border-gray-200 rounded-lg">
                <button onclick="toggleFAQ(3)" class="w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50">
                  <span class="font-medium text-gray-900">How do I modify risk parameters for my strategies?</span>
                  <svg id="faq-icon-3" class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                <div id="faq-content-3" class="hidden px-4 pb-4">
                  <p class="text-gray-600 text-sm">Navigate to Risk Management ‚Üí Strategy Settings. You can adjust: Position sizing (% of portfolio per trade), Stop-loss levels, Take-profit targets, Maximum daily loss limits, Drawdown thresholds. Always test changes with small amounts first and monitor performance closely.</p>
                </div>
              </div>

              <!-- FAQ Item 4 -->
              <div class="border border-gray-200 rounded-lg">
                <button onclick="toggleFAQ(4)" class="w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50">
                  <span class="font-medium text-gray-900">What's the difference between paper trading and live trading?</span>
                  <svg id="faq-icon-4" class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                <div id="faq-content-4" class="hidden px-4 pb-4">
                  <p class="text-gray-600 text-sm">Paper trading uses virtual money to test strategies without real financial risk. It's perfect for learning and testing new strategies. Live trading uses real money and executes actual market orders. We recommend thoroughly testing strategies in paper mode before switching to live trading.</p>
                </div>
              </div>

              <!-- FAQ Item 5 -->
              <div class="border border-gray-200 rounded-lg">
                <button onclick="toggleFAQ(5)" class="w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50">
                  <span class="font-medium text-gray-900">How do I interpret backtesting results?</span>
                  <svg id="faq-icon-5" class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                <div id="faq-content-5" class="hidden px-4 pb-4">
                  <p class="text-gray-600 text-sm">Key metrics to focus on: Win Rate (aim for >60%), Average Return per trade, Maximum Drawdown (lower is better), Sharpe Ratio (risk-adjusted returns), Total Return vs Buy & Hold. Also check the number of trades - strategies with very few trades may not be statistically significant.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Popular Articles -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-6 border-b border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900">üìö Popular Help Articles</h2>
          </div>
          <div class="p-6">
            <div class="space-y-4">
              <div class="flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer">
                <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                  <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                  </svg>
                </div>
                <div class="flex-1">
                  <div class="font-medium text-gray-900">Getting Started with Automated Trading</div>
                  <div class="text-sm text-gray-600">Complete beginner's guide to setting up your first automated strategy</div>
                  <div class="text-xs text-gray-500 mt-1">5 min read ‚Ä¢ 2,847 views</div>
                </div>
              </div>

              <div class="flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer">
                <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                  <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                  </svg>
                </div>
                <div class="flex-1">
                  <div class="font-medium text-gray-900">API Security Best Practices</div>
                  <div class="text-sm text-gray-600">Keep your trading accounts secure with proper API configuration</div>
                  <div class="text-xs text-gray-500 mt-1">8 min read ‚Ä¢ 1,923 views</div>
                </div>
              </div>

              <div class="flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer">
                <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                  <svg class="w-4 h-4 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                  </svg>
                </div>
                <div class="flex-1">
                  <div class="font-medium text-gray-900">Crypto Trading Setup Guide</div>
                  <div class="text-sm text-gray-600">Step-by-step setup for 24/7 cryptocurrency automated trading</div>
                  <div class="text-xs text-gray-500 mt-1">12 min read ‚Ä¢ 3,156 views</div>
                </div>
              </div>

              <div class="flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer">
                <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                  <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                  </svg>
                </div>
                <div class="flex-1">
                  <div class="font-medium text-gray-900">Understanding Strategy Performance Metrics</div>
                  <div class="text-sm text-gray-600">Learn to analyze and optimize your trading strategy results</div>
                  <div class="text-xs text-gray-500 mt-1">10 min read ‚Ä¢ 1,654 views</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="space-y-6">
        <!-- Contact Information -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-4 border-b border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900">üìû Contact Information</h3>
          </div>
          <div class="p-4 space-y-4">
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
              </div>
              <div>
                <div class="font-medium text-gray-900 text-sm">Email Support</div>
                <div class="text-xs text-gray-600">support@trademantra.com</div>
              </div>
            </div>

            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
              </div>
              <div>
                <div class="font-medium text-gray-900 text-sm">Phone Support</div>
                <div class="text-xs text-gray-600">+91 98765 43210</div>
              </div>
            </div>

            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <div>
                <div class="font-medium text-gray-900 text-sm">Support Hours</div>
                <div class="text-xs text-gray-600">9:00 AM - 8:00 PM IST</div>
              </div>
            </div>
          </div>
        </div>

        <!-- System Status -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-4 border-b border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900">üîß System Status</h3>
          </div>
          <div class="p-4 space-y-3">
            <div class="flex items-center justify-between">
              <span class="text-sm text-gray-600">Trading Engine</span>
              <div class="flex items-center space-x-2">
                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                <span class="text-xs text-green-600">Operational</span>
              </div>
            </div>

            <div class="flex items-center justify-between">
              <span class="text-sm text-gray-600">Data Feeds</span>
              <div class="flex items-center space-x-2">
                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                <span class="text-xs text-green-600">Operational</span>
              </div>
            </div>

            <div class="flex items-center justify-between">
              <span class="text-sm text-gray-600">Binance API</span>
              <div class="flex items-center space-x-2">
                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                <span class="text-xs text-green-600">Operational</span>
              </div>
            </div>

            <div class="flex items-center justify-between">
              <span class="text-sm text-gray-600">NSE Data</span>
              <div class="flex items-center space-x-2">
                <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
                <span class="text-xs text-yellow-600">Maintenance</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Quick Tips -->
        <div class="bg-gradient-to-br from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4">
          <h3 class="text-sm font-semibold text-blue-900 mb-3">üí° Quick Tips</h3>
          <ul class="text-xs text-blue-800 space-y-2">
            <li>‚Ä¢ Start with paper trading to test strategies</li>
            <li>‚Ä¢ Always set stop-loss limits</li>
            <li>‚Ä¢ Monitor your strategies daily</li>
            <li>‚Ä¢ Keep API keys secure</li>
            <li>‚Ä¢ Diversify across multiple strategies</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    function toggleFAQ(id) {
      const content = document.getElementById(`faq-content-${id}`)
      const icon = document.getElementById(`faq-icon-${id}`)
    
      if (content.classList.contains('hidden')) {
        content.classList.remove('hidden')
        icon.style.transform = 'rotate(180deg)'
      } else {
        content.classList.add('hidden')
        icon.style.transform = 'rotate(0deg)'
      }
    }
    
    function startChat() {
      alert('Live Chat feature - Implementation pending for automated trading support')
    }
    
    function createTicket() {
      alert('Support Ticket creation - Implementation pending for automated trading issues')
    }
    
    function scheduleCall() {
      alert('Schedule Expert Call - Implementation pending for automated trading consultation')
    }
  </script>
{% endblock %}
