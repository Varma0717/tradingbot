{% extends 'layout.html' %}

{% block title %}
  Community Forum - TradeMantra
{% endblock %}

{% block content %}
  <div class="p-6 max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
      <div class="flex justify-between items-start">
        <div>
          <h1 class="text-3xl font-bold text-gray-900 mb-2">💬 Community Forum</h1>
          <p class="text-gray-600">Connect with fellow automated traders, share strategies, and learn from the community</p>
        </div>
        <button onclick="createPost()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
          </svg>New Post
        </button>
      </div>
    </div>

    <!-- Community Stats -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 text-center">
        <div class="text-2xl font-bold text-blue-600">2,847</div>
        <div class="text-sm text-gray-600">Active Members</div>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 text-center">
        <div class="text-2xl font-bold text-green-600">1,256</div>
        <div class="text-sm text-gray-600">Discussions</div>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 text-center">
        <div class="text-2xl font-bold text-purple-600">8,432</div>
        <div class="text-sm text-gray-600">Messages</div>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 text-center">
        <div class="text-2xl font-bold text-yellow-600">156</div>
        <div class="text-sm text-gray-600">Online Now</div>
      </div>
    </div>

    <!-- Forum Categories -->
    <div class="flex flex-wrap gap-2 mb-6">
      <button onclick="filterPosts('all')" class="post-filter bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">All Posts</button>
      <button onclick="filterPosts('strategies')" class="post-filter bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300">Strategies</button>
      <button onclick="filterPosts('crypto')" class="post-filter bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300">Crypto</button>
      <button onclick="filterPosts('technical')" class="post-filter bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300">Technical Analysis</button>
      <button onclick="filterPosts('help')" class="post-filter bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300">Help & Support</button>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Main Forum Feed -->
      <div class="lg:col-span-2 space-y-4">
        <!-- Pinned Post -->
        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 post-item" data-category="strategies">
          <div class="flex items-start space-x-3">
            <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
              </svg>
            </div>
            <div class="flex-1">
              <div class="flex items-center space-x-2 mb-2">
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">📌 Pinned</span>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">Strategies</span>
              </div>
              <h3 class="text-lg font-semibold text-gray-900 mb-2">Community Guidelines for Strategy Sharing</h3>
              <p class="text-gray-600 text-sm mb-3">Please read these important guidelines before sharing your automated trading strategies with the community.</p>
              <div class="flex items-center space-x-4 text-sm text-gray-500">
                <span>by TradeMantra Team</span>
                <span>•</span>
                <span>2 days ago</span>
                <span>•</span>
                <span>45 replies</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Regular Posts -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 post-item" data-category="crypto">
          <div class="flex items-start space-x-3">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
              <span class="text-white font-bold text-sm">AK</span>
            </div>
            <div class="flex-1">
              <div class="flex items-center space-x-2 mb-2">
                <span class="font-medium text-gray-900">Arjun Kumar</span>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">₿ Crypto</span>
                <span class="text-sm text-gray-500">Expert Trader</span>
              </div>
              <h3 class="text-lg font-semibold text-gray-900 mb-2">Best crypto pairs for momentum strategy in December?</h3>
              <p class="text-gray-600 text-sm mb-3">I've been running the crypto momentum strategy for 3 months with great results on BTC/USDT and ETH/USDT. Looking for other pairs that work well with this strategy. Current win rate is 73%.</p>
              <div class="flex items-center space-x-4 text-sm text-gray-500">
                <div class="flex items-center space-x-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                  </svg>
                  <span>23 replies</span>
                </div>
                <span>•</span>
                <span>4 hours ago</span>
                <div class="flex items-center space-x-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                  </svg>
                  <span>47</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 post-item" data-category="strategies">
          <div class="flex items-start space-x-3">
            <div class="w-10 h-10 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center">
              <span class="text-white font-bold text-sm">RS</span>
            </div>
            <div class="flex-1">
              <div class="flex items-center space-x-2 mb-2">
                <span class="font-medium text-gray-900">Rajesh Singh</span>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">📈 Strategies</span>
                <span class="text-sm text-gray-500">Pro Member</span>
              </div>
              <h3 class="text-lg font-semibold text-gray-900 mb-2">My RSI strategy modifications for volatile markets</h3>
              <p class="text-gray-600 text-sm mb-3">After 6 months of testing, I've made some key modifications to the standard RSI strategy that work better during high volatility periods. Here's what I changed...</p>
              <div class="flex items-center space-x-4 text-sm text-gray-500">
                <div class="flex items-center space-x-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                  </svg>
                  <span>18 replies</span>
                </div>
                <span>•</span>
                <span>6 hours ago</span>
                <div class="flex items-center space-x-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                  </svg>
                  <span>32</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 post-item" data-category="technical">
          <div class="flex items-start space-x-3">
            <div class="w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center">
              <span class="text-white font-bold text-sm">PG</span>
            </div>
            <div class="flex-1">
              <div class="flex items-center space-x-2 mb-2">
                <span class="font-medium text-gray-900">Priya Gupta</span>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">📊 Technical</span>
                <span class="text-sm text-gray-500">Algorithmic Trader</span>
              </div>
              <h3 class="text-lg font-semibold text-gray-900 mb-2">Bollinger Bands vs RSI: Which indicator works better for mean reversion?</h3>
              <p class="text-gray-600 text-sm mb-3">I've been comparing these two indicators for mean reversion strategies. My backtesting shows interesting results. Here's the data...</p>
              <div class="flex items-center space-x-4 text-sm text-gray-500">
                <div class="flex items-center space-x-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                  </svg>
                  <span>12 replies</span>
                </div>
                <span>•</span>
                <span>8 hours ago</span>
                <div class="flex items-center space-x-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                  </svg>
                  <span>28</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 post-item" data-category="help">
          <div class="flex items-start space-x-3">
            <div class="w-10 h-10 bg-gradient-to-br from-red-400 to-orange-500 rounded-full flex items-center justify-center">
              <span class="text-white font-bold text-sm">MK</span>
            </div>
            <div class="flex-1">
              <div class="flex items-center space-x-2 mb-2">
                <span class="font-medium text-gray-900">Mohit Khanna</span>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">🆘 Help</span>
                <span class="text-sm text-gray-500">New Member</span>
              </div>
              <h3 class="text-lg font-semibold text-gray-900 mb-2">Need help with Binance API connection errors</h3>
              <p class="text-gray-600 text-sm mb-3">Getting 'Invalid signature' errors when trying to connect to Binance. I've checked my API key and secret multiple times. Any ideas?</p>
              <div class="flex items-center space-x-4 text-sm text-gray-500">
                <div class="flex items-center space-x-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                  </svg>
                  <span>7 replies</span>
                </div>
                <span>•</span>
                <span>1 day ago</span>
                <div class="flex items-center space-x-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                  </svg>
                  <span>15</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Load More Button -->
        <div class="text-center">
          <button class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300">Load More Posts</button>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="space-y-6">
        <!-- Top Contributors -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-4 border-b border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900">🏆 Top Contributors</h3>
          </div>
          <div class="p-4">
            <div class="space-y-4">
              <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center">
                  <span class="text-white font-bold text-xs">VS</span>
                </div>
                <div class="flex-1">
                  <div class="font-medium text-gray-900 text-sm">Vikash Sharma</div>
                  <div class="text-xs text-gray-500">234 helpful answers</div>
                </div>
                <div class="text-xs text-yellow-600">🥇</div>
              </div>

              <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                  <span class="text-white font-bold text-xs">AK</span>
                </div>
                <div class="flex-1">
                  <div class="font-medium text-gray-900 text-sm">Arjun Kumar</div>
                  <div class="text-xs text-gray-500">189 helpful answers</div>
                </div>
                <div class="text-xs text-gray-400">🥈</div>
              </div>

              <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center">
                  <span class="text-white font-bold text-xs">RS</span>
                </div>
                <div class="flex-1">
                  <div class="font-medium text-gray-900 text-sm">Rajesh Singh</div>
                  <div class="text-xs text-gray-500">156 helpful answers</div>
                </div>
                <div class="text-xs text-orange-400">🥉</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Active Now -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-4 border-b border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900">🟢 Active Now</h3>
          </div>
          <div class="p-4">
            <div class="space-y-3">
              <div class="flex items-center space-x-2">
                <div class="w-6 h-6 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                  <span class="text-white font-bold text-xs">AK</span>
                </div>
                <span class="text-sm text-gray-900">Arjun Kumar</span>
                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
              </div>

              <div class="flex items-center space-x-2">
                <div class="w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center">
                  <span class="text-white font-bold text-xs">PG</span>
                </div>
                <span class="text-sm text-gray-900">Priya Gupta</span>
                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
              </div>

              <div class="flex items-center space-x-2">
                <div class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-cyan-500 rounded-full flex items-center justify-center">
                  <span class="text-white font-bold text-xs">NK</span>
                </div>
                <span class="text-sm text-gray-900">Nikhil Jain</span>
                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
              </div>
            </div>

            <div class="mt-3 text-xs text-gray-500">+153 others online</div>
          </div>
        </div>

        <!-- Community Rules -->
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
          <h3 class="text-sm font-semibold text-blue-900 mb-2">📋 Community Guidelines</h3>
          <ul class="text-xs text-blue-800 space-y-1">
            <li>• Be respectful and helpful</li>
            <li>• Share strategies responsibly</li>
            <li>• No financial advice</li>
            <li>• Search before posting</li>
            <li>• Use appropriate categories</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    function filterPosts(category) {
      // Remove active class from all filter buttons
      document.querySelectorAll('.post-filter').forEach((btn) => {
        btn.className = 'post-filter bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300'
      })
    
      // Add active class to clicked button
      event.target.className = 'post-filter bg-blue-600 text-white px-4 py-2 rounded-lg text-sm'
    
      // Show/hide posts based on category
      document.querySelectorAll('.post-item').forEach((post) => {
        if (category === 'all' || post.dataset.category === category) {
          post.style.display = 'block'
        } else {
          post.style.display = 'none'
        }
      })
    }
    
    function createPost() {
      alert('Create New Post feature - Implementation pending for automated trading community focus')
    }
  </script>
{% endblock %}
